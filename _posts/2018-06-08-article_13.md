---
title: ESP-WROOM-02でATコマンド，OKまで
categories: [電子工作]
tags: [esp32]
---

秋月で売ってるESP-WROOM-02を使ったのでその手順を書きます．

使ったのは[コレ](http://akizukidenshi.com/catalog/g/gK-09758)です．

### 回路を組む

まず回路を組みます．

![img1](/assets/img/posts/esp.PNG)

![img2](/assets/img/posts/esp2.JPG)

「IO0ピン」に関して，ファームウェア書き込み時にはGNDへ接続し，プログラム実行時には10kΩ抵抗を挟んでプルアップします．

2枚目の写真はプログラム実行時の写真になります．

秋月のサイトにデータシートのリンクがあるので各ピンの機能や接続はこちらで詳しく確認してください．

### ファームウェアの書込み

最初にファームウェアの書込みをします．

以下の記事を参考にしました．

 - [ESP-WROOM-02使ってみる](https://www.hirotakaster.com/weblog/esp-wroom-02%E4%BD%BF%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%8B/)

書込みツールとファイルのパスに日本語が入っていると「ファイルが存在しないよ」ってエラーになります．

また，書込みが失敗するときは「IO0ピン」をプルアップしていたり，「RSTピン」がプルアップされていなかったりするので注意します．

### ATコマンド

「IO0ピン」を10kΩ抵抗でプルアップに変更したらターミナルを起動します．

Arduino IDEのシリアル画面でもTera Termでも大丈夫です．

ターミナルの設定を以下のように設定します．

 - 115200bps
 - 8bit
 - パリティなし
 - ストップビット1bit
 - フロー制御なし
 - 受信改行コードCR
 - 送信改行コードCR+LF

![img3](/assets/img/posts/config1.png)

![img4](/assets/img/posts/config2.png)

ATコマンドを送信します（Tera Termの画面で「AT」と入力してエンターキー）．

「OK」と返ってきたら成功です．

![img5](/assets/img/posts/at.png)

ちなみにATコマンドは「通信機器を制御するためのコマンド体系のこと」らしいです．

とりあえずここまでにして次はWi-Fiに接続して通信してみようと思います．